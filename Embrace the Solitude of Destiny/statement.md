# Problem. Embrace the Solitude of Destiny

$\begin{array}{l l}Time \; limit \; per \; test & :  1 \;  seconds\\ Memory \; limit \; per \; test &:  512 \;  megabytes\\Input& : standard\;  input \\Output & :standard\;  output \\ \end{array}$

> 塞纳托斯是死亡和湮灭的泰坦，无人知晓其真正的形象——因为死者无法将传说告知生者。据说。它的触碰会令花朵枯萎，土壤开裂，金属锈蚀，血肉成为灰烬——所有的一切被包裹在浓黑的雾气里，解离为没有意义的碎片。
>
> 黄金裔虽然自视为半神的血脉，但也无法逃脱有机生命应有的结局，死去。冥河会寻找死亡，并在空无一物的旷野上汇聚成通往冥界的道路。当战争夺去过多的生命，众多灵魂无处安息时，冥河的潮汐便会涌上大地，而塞纳托斯则会掌船前来，接引亡魂去往来世。人们认为，它的公正仅次于塔兰顿，因为它只取走众神手中多余之物。
> 
> 随着世界入夜，死亡与黑夜成为了翁法罗斯的主宰，未知的黑潮已卷席着巨大的浪涛吞没凡界，将冥界与现世的平衡打破。而在诸多战场上游荡的亡灵和怪物，无法流转的生死似乎已昭示，即使是掌管死亡的塞纳托斯，也对其无能为力。

作为哀地里亚的督战圣女，重新汇聚通往冥界的道路、寻索塞纳托斯的火种，是 Castorice 的责任。

![alt text](image.png)

$$
Figure : 「死荫的侍女」Castorice
$$


由于 Castorice 身负名为「死亡之触」的诅咒，“指尖触碰到的生命都会凋亡归无”，无论黄金裔或是元老院都无法靠近她，更遑论在向泰坦、向神格的求索过程中帮助她。而这，也一定程度上成为了 Castorice 命途上的阻碍。

事情的转机源自于 Stelle 的到来。这位来自翁法罗斯之外的少女不受「死亡之触」的影响，顺理成章地受黄金裔所托来与 Castorice 共同面对命运。

经过一段时间的交流与探索， Stelle 敏锐地发现，翁法罗斯的所谓「冥河所在的旷野」，本质是一个由向量化表述的，泰坦、半神与命途张成的三维希尔伯特空间。那么， Castorice 的求索之路可以很简单地用一连串的克罗内克积来表示。而 Castorice 能控制的只有最初的右矢 $ | \psi \rangle$。
<!-- 空间中浮动的向量在 Castorice 眼中逐渐展开了一副黄金时代的画卷。在这盛世繁荣的一角， -->
同时，经过对克罗内克积矩阵的分析，她们逐渐捕捉到了一些求索之路想要成功的条件。不过，那些条件的求解过于困难， Stelle 将其简化到了最基本的一维情况，希望在求解的过程中找到更加一般的数学规律。

不过 Stelle 和 Castorice 都不是算法领域大神，难以应对在空间中规模庞大的限制条件数据。她们将问题上传到了JNU（Jupyter Neural-network Union，神经网络交互计算协会）进行悬赏，以求找到高效的解决方案。

作为 JNU 的一员，你虽然不缺那点悬赏，但对这个问题本身非常感兴趣，因此决定稍作尝试。

**具体地**，在本问题中，将 Castorice 的求索之路表述成在欧几里得空间中一维初始值上的一串线性变换。 Stelle 会给出 $K$ 个阶段的线性变换，每个阶段的线性变换可以表示为 $  a_i x + b_i \mapsto x $ ，并重复执行 $r_i$ 次。

在第 $j$ 阶段结束后，当前的 $x$ 值需要满足 $x \equiv c_j ( mod \; m_j )$，才认为本段路径合法。

你需要确定一个可行的最小正整数 $x_0$ ，使得所有限制条件成立。

形式化地，有同余方程组 
$$
\begin{cases} 
x_{r_1} & \equiv c_1 ( mod \; m_1 ) \\
x_{r_1+r_2} & \equiv c_2 ( mod \; m_2 ) \\
& \vdots \\
x_{\sum_{i=1}^K r_i} & \equiv c_K ( mod \; m_K ) \\
\end{cases}
$$

其中 $\forall i \lt 1 , x_{i} = a_k x_{i-1} + b_k $ , $k$ 满足 $ \sum _{j=1}^{k-1} r_j < i \le \sum _{j=1}^{k} r_j $.

## Input

第一行一个整数 $K$， $1\le K \le 1\times 10^3$，代表变换的段数。

接下来 $K$ 行，每行包含五个整数 $a_i,b_i,c_i,m_i,r_i$，分别代表线性变换系数、同余方程参数和变换次数。

其中，$1 \le a_i,b_i,c_i,m_i,r_i \le 1 \times 10^9$

数据保证解 $x_0$ 存在。

## Output

一行一个整数，代表 $x_0$。

### Input Example 1

```text
3
1 5 2 2 4
10 8 9 9 7
2 3 2 3 2
```

### Output Example 1

```text
3294587
```